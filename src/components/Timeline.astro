---
import type { TimelineItem } from "@/lib/types";
import { cn } from "@/lib/utils";

interface Props {
    items: TimelineItem[];
}

const { items } = Astro.props;
---

<div class="relative border-l border-border ml-3 space-y-10 w-full max-w-3xl mx-auto mt-4">
    {
        items.map((item) => (
            <div class="mb-10 ml-8 relative">
                <span
                    class={cn(
                        "absolute flex bg-background items-center justify-center w-10 h-10 rounded-full -left-[52px] ring-4 ring-background border border-border",
                        item.logo && "bg-card dark:bg-zinc-200 rounded-sm"
                    )}
                >
                    {item.logo ? (
                        <img src={item.logo} alt={item.subtitle} class="w-9 h-9 rounded" />
                    ) : (
                        <div class="w-3 h-3 bg-primary rounded-full" />
                    )}
                </span>
                {item.date && <p class="text-sm font-normal text-muted-foreground">{item.date}</p>}
                <h3 class="text-lg font-semibold text-foreground">
                    {item.link ? (
                        <a
                            href={item.link}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="underline underline-offset-4"
                        >
                            {item.title}
                        </a>
                    ) : (
                        item.title
                    )}
                </h3>
                {item.subtitle && <p class="text-base font-medium text-foreground mb-2 mt-1">{item.subtitle}</p>}
                <p class="text-base font-normal text-muted-foreground">{item.description}</p>
            </div>
        ))
    }
</div>
